<ibm-header brand="">
  <a (click)="logoRoute()" style="cursor: pointer;"> <img src="assets/logo.png" class="imglogo" /></a>
  <ibm-hamburger *ngIf="hasHamburger" [active]="active" (selected)="active = !active"></ibm-hamburger>
  <ibm-header-navigation>
    <ibm-header-item (click)="navigate()" [routerLinkActive]="['is-active']">Activity
    </ibm-header-item>

    <!-- <div *ngIf="userDetails.role == 'Insurer'">
      <ibm-header-item [routerLink]="['/asas']" [routerLinkActive]="['is-active']">Browse</ibm-header-item>
    </div> -->
    <div *ngIf="userDetails.role == 'Innovator'">
      <!-- <ibm-header-item [route]="['/invchallenges']" isCurrentPage="'true'" [routerLinkActive]="['is-active']">Challenges
      </ibm-header-item> -->

      <ibm-header-item [route]="['/invchallenges']" [routerLinkActive]="['is-active']">Challenges
      </ibm-header-item>
    </div>

  </ibm-header-navigation>
  <ibm-header-global>

    <ibm-header-action #firstAction title="action">
      <p class="namefull">
        {{ userDetails.fullName }}
      </p>
    </ibm-header-action>
    <ibm-header-action #firstAction title="action">
      <svg icon ibmIconUserAvatar20></svg>
    </ibm-header-action>
    <ibm-header-action [(active)]="secondAction" title="action">
      <svg icon ibmIconFade size="20"></svg>
    </ibm-header-action>
  </ibm-header-global>
</ibm-header>

<ibm-panel [expanded]="firstAction.active">
  <div class="bx--navigation-section">
    
    <img class="portrait mr-3" itemprop="image" alt="Avatar" src="../../assets/user_avatar.jpeg" />

    <!-- <img class="portrait mr-3" itemprop="image" alt="Avatar"
      src="https://www.angularjswiki.com/author/admin/avatar_hufa038520d36dafb78f39a62f91de8258_77813_250x250_fill_q90_lanczos_center.jpg" /> -->
      <svg icon ibmIconEdit20 (click)="editUserName()"></svg>
    <div *ngIf="!isEdit">
      <p class="userName">{{ userDetails.fullName }}</p>
    </div>
    <div style="display: flex;" *ngIf="isEdit">
      <div>
        <input style="width: 100%; margin-top: 10px; margin-left: 15px;" ibmTextArea (blur)="saveUserName()"
          [(ngModel)]="set_new_userName" aria-label="textarea" />
      </div>
    </div>
    <br />
    <div *ngIf="userDetails.role == 'Insurer'">
      <p class="userdetail">Active challenge: {{challengeCounts.activeChallengeCount}}</p>
    </div>
    <div *ngIf="userDetails.role == 'Innovator'">
      <p class="userdetail">Active challenge: {{submittedActiveChallenges.length}}</p>
    </div>
    <p class="userdetail">Past challenge: {{challengeCounts.pastChallengeCount}}</p>
    <div *ngIf="userDetails.role == 'Insurer'">
      <p class="userdetail">Model Watching: {{challengeCounts.modelsWatching}}</p>
    </div>
    <div *ngIf="userDetails.role == 'Innovator'">
      <p class="userdetail">Bookmark Challenges: {{bookmarkedChallenges.length}}</p>
    </div>
    <div *ngIf="userDetails.role == 'Innovator'">
      <p class="userdetail">Challenges Won: {{challengesWon || 0}}</p>
    </div>
    <br />
    <p class="userdetail">View profile</p>
  </div>
  <div class="bx--navigation-section">
    <p class="notify">
      <svg icon ibmIconNotification20></svg>
      &nbsp; Notifications &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span>
        <p style="font-size: 12px; cursor: pointer;" (click)="clearNotification()">Clear</p>
      </span>
    </p>

    <div *ngIf="notificationLoading">
      <h6>
        <ibm-inline-loading [loadingText]="loadingText" style="margin-left: 45px;" [successText]="successText" (onSuccess)="onSuccess($event)">
        </ibm-inline-loading>
      </h6>
    </div>
    <div *ngIf="notifications?.length==0">
      <p class="notifyItems">No New Notifications</p>
    </div>
    <div *ngIf="showNotification">
      <div *ngFor="let notify of notifications; index as i" (click)="viewNotification(notify)">
        <p class="notifyItems" style="cursor: pointer;">{{ notify?.body }}</p>
      </div>
    </div>
    <br />
  </div>

  <h6 class="bx--btn bx--btn--ghost" type="button" (click)="logout()">
    <svg icon ibmIconLogout20></svg>
    &nbsp;Logout
  </h6>
</ibm-panel>
<ibm-panel [expanded]="secondAction">
  <ibm-switcher-list>
    <ibm-switcher-list-item active="true">
      Switcher item one
    </ibm-switcher-list-item>
    <ibm-switcher-list-item>Switcher item two</ibm-switcher-list-item>
    <ibm-switcher-list-item>Switcher item three</ibm-switcher-list-item>
    <ibm-switcher-list-item>Switcher item four</ibm-switcher-list-item>
  </ibm-switcher-list>
</ibm-panel>